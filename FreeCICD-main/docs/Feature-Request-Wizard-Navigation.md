# Feature Request: Wizard Navigation & Breadcrumb Enhancement
## Team Design Discussion

**Date:** December 2024  
**Feature Request:** Improved wizard navigation with "Start Over" functionality and enhanced breadcrumbs showing previous selections  
**Requested By:** CTO

---

## Requirements Summary

1. **Start Over Button** - Navigate back to the start page and reset all wizard options
2. **Enhanced Breadcrumbs** - Each step should display summary of previous selections
3. **Selection Context** - Show what was selected in previous steps (Project, Repo, Branch, etc.)
4. **Environment Summary** - Environment step should show which environments were selected

---

## Team Discussion Transcript

### [Architect] - Sarah Chen

Let me frame this problem. We have a 9-step wizard:

```
Step 0: PAT/Credentials (hidden when logged in)
Step 1: Select Project
Step 2: Select Repository
Step 3: Select Branch
Step 4: Select .csproj File
Step 5: Environment Settings
Step 6: Pipeline Selection
Step 7: YAML Preview & Save
Step 8: Completed
```

The CTO wants:
1. A way to reset and start over from any step
2. Visual indication of what was selected in previous steps

Currently we have a basic breadcrumb showing step names, but no context about selections.

---

### [Blazor] - Priya Patel

Looking at the current implementation in `Index.App.FreeCICD.razor`, the breadcrumb is minimal:

```razor
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        @for (int i = _hidePAT ? 1 : 0; i < StepNames.Length; i++) {
            <li class="breadcrumb-item@(currentStep == i ? " active" : "")">
                @StepNames[i]
            </li>
        }
    </ol>
</nav>
```

This just shows step names. We need to enhance this to show:
- What was selected at each step
- Visual distinction between completed/current/future steps
- A "Start Over" action

---

### [Sanity] - Alex Kim

Before we dive into layouts, let me check assumptions:

1. **Reset scope**: Does "reset all options" mean clear all selections AND reload data, or just clear selections?
2. **Navigation**: Can users click on previous breadcrumb items to go back? Or only sequential back?
3. **Mobile**: Does this need to work well on mobile devices?

I'm assuming:
- Reset clears selections but keeps loaded project data
- Users can click previous steps to navigate directly
- Desktop-first, but shouldn't break on mobile

---

### [Quality] - James Rodriguez

From a UX perspective, we need to consider:

1. **Information density** - Too much info in breadcrumbs can be overwhelming
2. **Truncation** - Long project/repo names need truncation
3. **Accessibility** - Screen readers need to understand the context

Let me also flag: the "Start Over" should confirm with the user if they've made significant progress.

---

### [Architect] - Sarah Chen

Good points. Let me propose 4 different layout approaches for the team to evaluate.

---

## Layout Proposals

### Layout Option 1: Enhanced Horizontal Breadcrumb with Tooltips

```
???????????????????????????????????????????????????????????????????????????????????????????
? [?? Start Over]                                                                         ?
?                                                                                         ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
? ?  ? Project    ??????? Repository   ??????? Branch   ??????? File   ??????? ...     ? ?
? ?  MyProject      MyRepo              main           App.csproj                       ? ?
? ?    ?              ?                  ?                ?                             ? ?
? ? (clickable)   (clickable)        (clickable)      (current)                         ? ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
?                                                                                         ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
? ?                           CURRENT STEP CONTENT                                      ? ?
? ?                                                                                     ? ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
???????????????????????????????????????????????????????????????????????????????????????????

Hover on "MyProject" shows tooltip:
??????????????????????????
? Project: MyProject     ?
? ID: abc-123-def        ?
? Click to edit          ?
??????????????????????????
```

**Pros:**
- Compact horizontal layout
- Shows selection values directly under step names
- Familiar breadcrumb pattern

**Cons:**
- Limited space for long names
- Environment step has multiple selections (hard to show inline)
- Requires tooltip for full details

---

### Layout Option 2: Vertical Sidebar Summary Panel

```
???????????????????????????????????????????????????????????????????????????????????????????
?                                                                                         ?
? ????????????????????????  ???????????????????????????????????????????????????????????????
? ? WIZARD PROGRESS      ?  ?                                                            ??
? ? [?? Start Over]      ?  ?                    CURRENT STEP                            ??
? ?                      ?  ?                                                            ??
? ? ? Project            ?  ?  Select Branch                                             ??
? ?   ?? MyProject       ?  ?  ?????????????????                                         ??
? ?                      ?  ?                                                            ??
? ? ? Repository         ?  ?  Branch:                                                   ??
? ?   ?? MyRepo          ?  ?  ??????????????????????????????????                        ??
? ?                      ?  ?  ? ? main                         ?                        ??
? ? ? Branch ???(current)?  ?  ?   develop                      ?                        ??
? ?   ?? (selecting...)  ?  ?  ?   feature/new-ui               ?                        ??
? ?                      ?  ?  ??????????????????????????????????                        ??
? ? ? .csproj File       ?  ?                                                            ??
? ?                      ?  ?  [? Back]                    [Next ?]                      ??
? ? ? Environments       ?  ?                                                            ??
? ?                      ?  ???????????????????????????????????????????????????????????????
? ? ? Pipeline           ?                                                                ?
? ?                      ?                                                                ?
? ? ? Preview & Save     ?                                                                ?
? ?                      ?                                                                ?
? ????????????????????????                                                                ?
?                                                                                         ?
???????????????????????????????????????????????????????????????????????????????????????????

Legend: ? = completed, ? = current, ? = pending
```

**Pros:**
- Ample space for showing all selections
- Easy to see full progress at a glance
- Click sidebar items to navigate directly
- Good for environments (can list multiple)

**Cons:**
- Takes horizontal screen space
- May feel cramped on smaller screens
- More complex layout

---

### Layout Option 3: Collapsible Context Header

```
???????????????????????????????????????????????????????????????????????????????????????????
?                                                                                         ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
? ? [?? Start Over]          Step 5 of 8: Environment Settings               [? Expand] ? ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
?                                                                                         ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
? ? Previous Selections:  MyProject ? MyRepo ? main ? src/App/App.csproj               ? ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
?                                                                                         ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
? ?                                                                                     ? ?
? ?                           CURRENT STEP CONTENT                                      ? ?
? ?                                                                                     ? ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
?                                                                                         ?
???????????????????????????????????????????????????????????????????????????????????????????

When [? Expand] is clicked:

???????????????????????????????????????????????????????????????????????????????????????????
?                                                                                         ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
? ? [?? Start Over]          Step 5 of 8: Environment Settings               [? Hide]  ? ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
?                                                                                         ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
? ? SELECTION SUMMARY                                                        [Edit ?]  ? ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
? ? ??????????????? ??????????????? ??????????????? ???????????????                     ? ?
? ? ? Project     ? ? Repository  ? ? Branch      ? ? .csproj     ?                     ? ?
? ? ? ??????????? ? ? ??????????? ? ? ??????????? ? ? ??????????? ?                     ? ?
? ? ? MyProject   ? ? MyRepo      ? ? main        ? ? App.csproj  ?                     ? ?
? ? ? [Change]    ? ? [Change]    ? ? [Change]    ? ? [Change]    ?                     ? ?
? ? ??????????????? ??????????????? ??????????????? ???????????????                     ? ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
?                                                                                         ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
? ?                           CURRENT STEP CONTENT                                      ? ?
? ??????????????????????????????????????????????????????????????????????????????????????? ?
???????????????????????????????????????????????????????????????????????????????????????????
```

**Pros:**
- Compact by default, expandable for details
- Single-line summary always visible
- Maximizes content area when collapsed
- Individual "Change" buttons for quick navigation

**Cons:**
- Requires user interaction to see full details
- May hide important context by default

---

### Layout Option 4: Card-Based Stepper with Inline Summary

```
???????????????????????????????????????????????????????????????????????????????????????????
?                                                                                         ?
?  [?? Start Over]                           Azure DevOps Pipeline Wizard                ?
?                                                                                         ?
?  ???????    ???????    ???????    ???????    ???????    ???????    ???????    ??????? ?
?  ?  1  ??????  2  ??????  3  ??????  4  ??????  5  ??????  6  ??????  7  ??????  8  ? ?
?  ? ?  ?    ? ?  ?    ? ?  ?    ? ?  ?    ? ?  ?    ? ?  ?    ? ?  ?    ? ?  ? ?
?  ???????    ???????    ???????    ???????    ???????    ???????    ???????    ??????? ?
?     ?          ?          ?          ?          ?                                       ?
?  Project    Repo      Branch     File       Envs                                       ?
?  MyProj..   MyRepo    main       App..      (current)                                  ?
?                                                                                         ?
?  ????????????????????????????????????????????????????????????????????????????????????????
?  ?                                                                                     ??
?  ?  ?? YOUR SELECTIONS SO FAR                                                          ??
?  ?  ?????????????????????????????????????????????????????????????????????????????????  ??
?  ?                                                                                     ??
?  ?  Project:     MyProject (WSU-EIT)                                                   ??
?  ?  Repository:  MyRepo                                                                ??
?  ?  Branch:      main                                                                  ??
?  ?  File:        src/MyApp/MyApp.csproj                                                ??
?  ?                                                                                     ??
?  ????????????????????????????????????????????????????????????????????????????????????????
?  ?                                                                                     ??
?  ?  STEP 5: ENVIRONMENT SETTINGS                                                       ??
?  ?  ?????????????????????????????????????????????????????????????????????????????????  ??
?  ?                                                                                     ??
?  ?  Select environments to configure:                                                  ??
?  ?                                                                                     ??
?  ?  ? DEV Environment                                                                  ??
?  ?  ? PROD Environment                                                                 ??
?  ?  ? CMS Environment                                                                  ??
?  ?                                                                                     ??
?  ?                                              [? Back]            [Next ?]           ??
?  ?                                                                                     ??
?  ????????????????????????????????????????????????????????????????????????????????????????
?                                                                                         ?
???????????????????????????????????????????????????????????????????????????????????????????

On Environment Settings step, after selecting environments:

???????????????????????????????????????????????????????????????????????????????????????????
?  ????????????????????????????????????????????????????????????????????????????????????????
?  ?                                                                                     ??
?  ?  ?? YOUR SELECTIONS SO FAR                                                          ??
?  ?  ?????????????????????????????????????????????????????????????????????????????????  ??
?  ?                                                                                     ??
?  ?  Project:      MyProject (WSU-EIT)                                                  ??
?  ?  Repository:   MyRepo                                                               ??
?  ?  Branch:       main                                                                 ??
?  ?  File:         src/MyApp/MyApp.csproj                                               ??
?  ?  Environments: DEV, PROD                                                            ??
?  ?                                                                                     ??
?  ????????????????????????????????????????????????????????????????????????????????????????
???????????????????????????????????????????????????????????????????????????????????????????
```

**Pros:**
- Clear numbered steps with visual progress
- Always-visible selection summary
- Step numbers are clickable for direct navigation
- Environments shown as comma-separated list
- Compact yet informative

**Cons:**
- Takes vertical space for summary section
- May need scrolling on shorter screens

---

## [Quality] - Comparison Matrix

| Criteria | Layout 1 | Layout 2 | Layout 3 | Layout 4 |
|----------|----------|----------|----------|----------|
| **Information Density** | Medium | High | Medium/High | High |
| **Screen Space** | Efficient | Less (sidebar) | Efficient | Medium |
| **Mobile Friendly** | Good | Poor | Good | Good |
| **Environment Display** | Tooltip only | Excellent | Cards | Inline list |
| **Navigation Clarity** | Good | Excellent | Good | Excellent |
| **Implementation Effort** | Low | Medium | Medium | Medium |
| **Start Over Visibility** | Clear | Clear | Clear | Clear |

---

## [Architect] - Recommendation

Based on the CTO's requirements:
1. ? All layouts include "Start Over"
2. ? All layouts show previous selections
3. ? Layout 4 handles environments best with inline comma-separated list

**I recommend Layout 4** because:
- Clear numbered step progression
- Always-visible selection summary (no expand/collapse needed)
- Handles multiple environment selections gracefully
- Clickable step numbers for direct navigation
- Good balance of information density and usability

---

## [Sanity] - Final Check

Layout 4 addresses all requirements:
- ? Start Over button prominently placed
- ? Previous selections always visible
- ? Step numbers show progress
- ? Environment step shows selected environments inline
- ? Single-value selections (Project, Repo, etc.) clearly displayed
- ? Mobile responsive (stepper can wrap or become vertical)

---

## [Summary]

### Decisions Made
- Layout 4 (Card-Based Stepper with Inline Summary) is recommended
- "Start Over" resets all selections and navigates to step 1 (or step 0 if not logged in)
- Step numbers are clickable for direct navigation to completed steps
- Selection summary is always visible above current step content

### Implementation Items
1. Add "Start Over" button with confirmation dialog
2. Add selection summary panel component
3. Enhance breadcrumb stepper with clickable numbered circles
4. Update Environment display to show comma-separated selected environments
5. Add truncation with tooltips for long names

### Next Steps
| Role | Action |
|------|--------|
| [Blazor] | Create WizardStepper.razor component |
| [Blazor] | Create SelectionSummary.razor component |
| [Quality] | Write accessibility tests for navigation |
| [Architect] | Review component interfaces |

---

*Design discussion captured for CTO review*
